import{C as m}from"./cartStore-DAzxVWyi.js";import{_ as T,a as b,m as g,c as n,d as p,b as t,t as c,w as v,F as _,v as f,B as V,C as B,f as d,r as y,o as r,e as k,y as A}from"./index-B24p_j4Q.js";import{B as x}from"./bookmarkStore-CYqAAoJX.js";import{V as L}from"./VueLoading-D_ar9Dhk.js";import"./index-DoQuGAlw.js";var S={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"david555",BASE_URL:"/vue3-OptionAPi-projectV3/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_URL:P,VITE_APP_PATH:w}=S,E={components:{VueLoading:L},data(){return{product:{},products:[],randomProducts:[],productImages:[],productImg:"",productId:"",productQty:1,isLoading:!1}},methods:{...b(m,["addToCart","updateQty"]),...b(x,["getBookmark","addBookmark","isSelected"]),getNewProductId(i){this.productId=i,this.getProduct()},chooseProduct(i){this.product={...i},this.productImages=[...i.imagesUrl],this.productImg=i.imageUrl},getProducts(){const i=`${P}/api/${w}/products`;this.$http.get(i).then(s=>{s.data.success&&(this.products=s.data.products)}).catch(s=>{s.response.data.message&&this.$swal("錯誤","你所查看的API不存在","error")})},getProduct(){this.isLoading=!0;const i=`${P}/api/${w}/product/${this.productId}`;this.$http.get(i).then(s=>{s.data.success&&(setTimeout(()=>{this.isLoading=!1},1e3),this.product=s.data.product,this.productImg=s.data.product.imageUrl,this.productImages=s.data.product.imagesUrl)}).catch(s=>{s.response.data.message&&this.$swal("錯誤","你所查看的API不存在","error")})},getRandomProducts(){const i=this.products.slice(0),s=[];let l;for(let a=0;a<3;a++)l=Math.floor(Math.random()*i.length),s.push(i[l]),i.splice(l,1);this.randomProducts=s}},watch:{products:{handler(){this.getRandomProducts()},deep:!0}},computed:{...g(m,["carts"]),...g(x,["bookmark","bookmarkDate"])},mounted(){this.productId=this.$route.params.id,this.getProduct(),this.getProducts(),this.getBookmark()}},U={class:"layoutBanner mb-md-5 mb-3"},j={class:"container"},Q={class:"row justify-content-center my-auto"},R={class:"col-md-4 text-center layout-Banner-Text"},D={class:"fw-bold mb-3 text-light h1"},N={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb"},H={class:"breadcrumb d-flex justify-content-center"},M={class:"breadcrumb-item"},O={class:"breadcrumb-item text-light","aria-current":"page"},$={class:"breadcrumb-item text-light","aria-current":"page"},z={class:"container"},F={class:"row justify-content-center mt-5"},q={class:"col-md-10"},G={class:"row"},J={class:"col-md-7"},K=["src"],W={class:"my-3 row"},X=["src","onClick"],Y={class:"col-md-5 mt-3"},Z={class:"fw-bold h1 mb-3"},tt={class:"mb-3"},st={class:"mb-0 text-muted text-end"},ot={class:"h4 fw-bold text-end text-primary"},et={class:"row align-items-center mb-6"},it={class:"col-5"},ct={class:"input-group my-3 bg-light border"},nt={class:"input-group-prepend"},dt=t("i",{class:"bi bi-dash"},null,-1),rt=[dt],lt={class:"input-group-append"},at=t("i",{class:"bi bi-plus"},null,-1),ut=[at],pt={class:"col-5 custom-btn-primary"},_t={class:"col-2"},ht={class:"custom-btn-info"},mt=t("i",{class:"bi bi-heart"},null,-1),bt=[mt],gt=t("div",{class:"border-primary border rounded p-3"},[t("p",null,"商品配送工作時間："),t("p",null," ※ 本商店皆以宅配方式寄出商品，於每次出貨時，寄發出貨通知信，還請多加留意。 "),t("p",null," ※ 商品配送時間一律為3-7個工作天送達商品。配送時間以每筆訂單完成付款時間開始算起， "),t("p",null," 因商品數量有限，需要時間做調度作業，敬請見諒。 ※ 若有特別需求，請於下訂單時備註說明，以利出貨作業。 ")],-1),vt={class:"row my-5"},ft={class:"col-md-4"},yt=t("h2",{class:"mb-3"},"商品規格",-1),kt={class:"px-0"},xt=t("hr",null,null,-1),Pt=t("h2",{class:"text-center mb-3 mt-5"},"相關產品",-1),wt={class:"row mb-6"},Ct={class:"card border p-2 mb-4 position-relative"},It=["onClick"],Tt=["src"],Vt={class:"card-body p-0"},Bt={class:"text-dark"},At={class:"card-text text-muted mb-2 text-truncate"},Lt={class:"d-flex justify-content-between align-items-center"},St={class:"text-primary fw-bold me-2"},Et={class:"mb-0 text-muted text-end d-inline-block"},Ut={class:"custom-btn-primary"},jt=["onClick"],Qt=t("i",{class:"bi bi-handbag"},null,-1),Rt=[Qt],Dt=["onClick"];function Nt(i,s,l,a,o,C){const I=y("VueLoading"),h=y("router-link");return r(),n(_,null,[p(I,{active:o.isLoading},null,8,["active"]),t("div",null,[t("div",U,[t("div",j,[t("div",Q,[t("div",R,[t("h2",D,c(o.product.title),1),t("nav",N,[t("ol",H,[t("li",M,[p(h,{to:"/",class:"layout-banner-txt-Hover"},{default:v(()=>[k("首頁")]),_:1})]),t("li",O,[p(h,{to:"/products",class:"layout-banner-txt-Hover"},{default:v(()=>[k("產品列表")]),_:1})]),t("li",$,c(o.product.title),1)])])])])])])]),t("div",z,[t("div",F,[t("div",q,[t("div",G,[t("div",J,[t("img",{class:"img-fluid rounded object-fit-cover",style:{height:"350px",width:"100%"},src:o.productImg,alt:"單一產品放大圖"},null,8,K),t("div",W,[(r(!0),n(_,null,f(o.productImages,e=>(r(),n("img",{key:e,class:"img-fluid object-fit-cover imgSize col-3",style:{height:"80px",cursor:"pointer"},src:e,onClick:u=>o.productImg=e,alt:"單一產品縮小圖"},null,8,X))),128))])]),t("div",Y,[t("h2",Z,c(o.product.title),1),t("p",tt,c(o.product.description),1),t("p",st,[t("del",null,"NT$ "+c(o.product.origin_price),1)]),t("p",ot," NT$ "+c(o.product.price),1),t("div",et,[t("div",it,[t("div",ct,[t("div",nt,[t("button",{class:"btn btn-light border-end rounded-0 py-2",type:"button",id:"button-addon1",onClick:s[0]||(s[0]=e=>o.productQty>1?o.productQty--:1)},rt)]),V(t("input",{type:"number",class:"form-control border-0 text-center my-auto bg-light","aria-label":"Example text with button addon","aria-describedby":"button-addon1",min:"1","onUpdate:modelValue":s[1]||(s[1]=e=>o.productQty=e),readonly:""},null,512),[[B,o.productQty]]),t("div",lt,[t("button",{class:"btn btn-light rounded-0 border-start py-2",type:"button",id:"button-addon2",onClick:s[2]||(s[2]=e=>o.productQty++)},ut)])])]),t("div",pt,[t("a",{href:"#",class:"text-nowrap btn w-100 py-2",onClick:s[3]||(s[3]=d(e=>i.addToCart(o.product,o.productQty),["prevent"]))},"加入購物車")]),t("div",_t,[t("div",ht,[t("a",{href:"#",class:"btn w-100 py-2",onClick:s[4]||(s[4]=d(e=>i.addBookmark(o.product),["prevent"]))},bt)])])])])]),gt,t("div",vt,[t("div",ft,[yt,t("ul",kt,[t("li",null,[t("p",null,"款式："+c(o.product.title),1)]),t("li",null,[t("p",null,"分類: "+c(o.product.category),1)]),t("li",null,[t("p",null,"內容: "+c(o.product.content),1)])])])]),xt,t("div",null,[Pt,t("div",wt,[(r(!0),n(_,null,f(o.randomProducts,e=>(r(),n("div",{class:"col-lg-4 col-md-6",key:e.id},[t("div",Ct,[t("a",{href:"#",onClick:d(u=>C.chooseProduct(e),["prevent"])},[t("img",{height:"200",src:e.imageUrl,class:"card-img-top rounded mb-3 object-fit-cover cardHover",alt:"其他相關產品圖"},null,8,Tt),t("div",Vt,[t("h4",Bt,c(e.title),1),t("p",At,c(e.description),1),t("div",Lt,[t("div",null,[t("span",St,"$ "+c(e.origin_price),1),t("p",Et,[t("del",null,"$"+c(e.origin_price),1)])]),t("div",Ut,[t("a",{href:"#",class:"btn",onClick:d(u=>i.addToCart(e),["prevent"])},Rt,8,jt)])])])],8,It),t("div",null,[t("a",{href:"#",class:"p-2 bookmark-icon",onClick:s[5]||(s[5]=d(()=>{},["prevent"]))},[t("i",{class:A(["bi bi-heart-fill",{"bookmark-selected":i.isSelected(e.id)}]),onClick:u=>i.addBookmark(e)},null,10,Dt)])])])]))),128))])])])])])],64)}const Ft=T(E,[["render",Nt]]);export{Ft as default};
